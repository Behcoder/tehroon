<div id="price-table-widget">

<style>
.table-wrapper {
  max-width: 100%;
  width: fit-content;
  margin: 0 auto;
}
/* ————————————————————————————————
     GRID – PRODUCT CARDS
———————————————————————————————— */
#price-table-widget .cards-grid {
  display: flex;
  flex-wrap: nowrap;
  justify-content: center;
  gap: 12px;
  margin-bottom: 30px;
  overflow-x: auto;
  font-family: sans-serif;
  direction: rtl;
  text-align: center;
}

#price-table-widget .product-card {
  width: 140px;
  background: #fff;
  border: 1px solid #eee;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  transition: background 0.3s, color 0.3s;
  padding: 10px;
}
#price-table-widget .product-card:hover,
#price-table-widget .product-card.active { background: #f5b901; }

#price-table-widget .product-card img {
  width: 100%;
  height: auto;
  border-radius: 6px;
  margin-bottom: 8px;
  transition: transform 0.3s;
}
#price-table-widget .product-card:hover img,
#price-table-widget .product-card.active img { transform: scale(1.05); }

#price-table-widget .product-card h3 {
  font-size: 14px;
  font-weight: 700;
  margin: 6px 0;
  color: #333;
  transition: color 0.3s;
}
#price-table-widget .product-card:hover h3,
#price-table-widget .product-card.active h3 { color: #fff; }

/* ————————————————————————————————
      PANELS
———————————————————————————————— */
#price-table-widget .pt-panel {
  display: none;
  max-width: 800px;
  margin: 0 auto;
}
#price-table-widget .pt-panel.active { display: block; }

#price-table-widget .pt-header {
  background: #fff;
  border: 1px solid #eee;
  border-radius: 12px;
  padding: 14px;
  margin-bottom: 12px;
  text-align: center;
}
#price-table-widget .pt-title {
  font-size: 18px;
  font-weight: bold;
  color: #000;
}

#price-table-widget .pt-image-wrap {
  background: #fff;
  border-radius: 10px;
  padding: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

/* ————————————————————————————————
      TABLES
———————————————————————————————— */
#price-table-widget .table-responsive {
  overflow-x: auto;
  width: 100%;
}

#price-table-widget table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  direction: rtl;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 0 8px rgba(0,0,0,0.1);
}

#price-table-widget th,
#price-table-widget td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}

#price-table-widget .table-header th {
  text-align: center !important;
  vertical-align: middle !important;
  white-space: nowrap;
  line-height: 1.4;
}

#price-table-widget thead {
  background-color: #000;
  color: #fff;
}
#price-table-widget tbody tr:nth-child(odd) {
  background-color: #F5B901;
  color: #000;
}
#price-table-widget tbody tr:nth-child(even) {
  background-color: #D9D9D9;
  color: #333;
}

/* ————————————————————————————————
     COLUMN FIXES
———————————————————————————————— */
#price-table-widget .col-product {
  text-align: right !important;
  width: 25%;
}

#price-table-widget .col-size {
  direction: ltr !important;
  unicode-bidi: bidi-override;
  text-align: center !important;
  width: 15%;
}

#price-table-widget .col-price {
  text-align: center !important;
  width: 25%;
}

#price-table-widget .col-thick   { width: 15%; }
#price-table-widget .col-weight  { width: 20%; }

/* ————————————————————————————————
      BRAND BUTTONS
———————————————————————————————— */
#price-table-widget .brand-selector {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

#price-table-widget .brand-btn {
  position: relative;
  background: #eee;
  border: 1px solid #ccc;
  padding: 6px 14px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  overflow: hidden;
  transition: background 0.2s;
}

#price-table-widget .brand-btn.active {
  background: #f5b901;
  color: #000;
  font-weight: bold;
}

#price-table-widget .brand-btn .progress {
  position: absolute;
  bottom: 0;
  right: 0;
  height: 3px;
  width: 0%;
  background: rgba(255, 0, 0, 0.5);
  transition: width 5s linear;
  z-index: 1;
}

#price-table-widget .brand-table { display: none; }
#price-table-widget .brand-table.active { display: block; }

#price-table-widget .rtl-fix {
  direction: rtl;
  unicode-bidi: isolate;
  display: inline-block;
}

#price-table-widget .ltr-fix {
  direction: ltr;
  unicode-bidi: isolate;
  display: inline-block;
  font-size: 12px;
  color: #ccc;
  margin-top: 2px;
}

/* ————————————————————————————————
      RESPONSIVE
———————————————————————————————— */
@media (max-width: 768px) {
  #price-table-widget .product-card img { display: none; }
  #price-table-widget .product-card h3 { font-size: 12px; margin: 4px 0; }
  #price-table-widget .cards-grid { flex-wrap: wrap; justify-content: center; }
  #price-table-widget table { font-size: 13px; }
  #price-table-widget th, #price-table-widget td { padding: 6px; white-space: nowrap; }
  #price-table-widget .pt-panel { max-width: 100%; padding: 0 10px; }
}
</style>


<script>
/* ————————————————————————
      BRAND SWITCHER (Optimized)
   ———————————————————————— */

let brandIndex = 0;

function showPanel(id, card) {
  const root = document.getElementById("price-table-widget");

  root.querySelectorAll(".pt-panel").forEach(p => p.classList.remove("active"));
  const panel = root.querySelector("#" + id);
  if (panel) panel.classList.add("active");

  root.querySelectorAll(".product-card").forEach(c => c.classList.remove("active"));
  if (card) card.classList.add("active");

  brandIndex = 0;
  autoRotateBrands(panel);
}

function showBrand(id, btn) {
  const panel = btn.closest(".pt-panel");

  panel.querySelectorAll(".brand-table").forEach(el => el.classList.remove("active"));
  const target = panel.querySelector("#" + id);
  if (target) target.classList.add("active");

  panel.querySelectorAll(".brand-btn").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");

  resetProgress(panel);
  startProgress(btn, () => gotoNextBrand(panel));
}

function autoRotateBrands(panel) {
  if (!panel) return;

  const buttons = panel.querySelectorAll(".brand-btn");
  const tables  = panel.querySelectorAll(".brand-table");
  if (!buttons.length) return;

  resetProgress(panel);
  buttons.forEach(b => b.classList.remove("active"));
  tables.forEach(t => t.classList.remove("active"));

  const btn = buttons[brandIndex];
  const tbl = tables[brandIndex];

  btn.classList.add("active");
  tbl.classList.add("active");

  startProgress(btn, () => gotoNextBrand(panel));
}

function resetProgress(panel) {
  panel.querySelectorAll(".progress").forEach(p => p.remove());
}

function startProgress(btn, callback) {
  const p = document.createElement("div");
  p.className = "progress";
  btn.appendChild(p);

  requestAnimationFrame(() => {
    setTimeout(() => { p.style.width = "100%"; }, 10);
  });

  p.addEventListener("transitionend", () => callback());
}

function gotoNextBrand(panel) {
  const buttons = panel.querySelectorAll(".brand-btn");
  brandIndex = (brandIndex + 1) % buttons.length;

  autoRotateBrands(panel);
}

document.addEventListener("DOMContentLoaded", () => {
  const root = document.getElementById("price-table-widget");
  if (!root) return;

  const first = root.querySelector(".product-card");
  if (!first) return;

  const match = first.getAttribute("onclick")?.match(/'(.*?)'/);
  if (match) showPanel(match[1], first);
});

document.addEventListener("DOMContentLoaded", function() {
  // دکمه سپاهان را فعال کن
  const defaultBtn = document.querySelector(".brand-btn.active");
  if (defaultBtn) {
    showBrand('industrial-sepahan', defaultBtn);
  }
});
</script>


<!-- ————————————————————————
      PRODUCT CATEGORY CARDS
———————————————————————— -->
<div class="cards-grid">

  <div id="industrial-p"
       class="product-card"
       onclick="showPanel('pt-1', this)">
    <img src="https://irontehran.ir/wp-content/uploads/2025/11/black-pipe.png" alt="لوله صنعتی">
    <h3>لوله صنعتی</h3>
  </div>

  <div id="api-p"
       class="product-card"
       onclick="showPanel('pt-2', this)">
    <img src="https://irontehran.ir/wp-content/uploads/2025/11/steel-pipe-folad-market.png" alt="لوله گازی API">
    <h3>لوله گازی API</h3>
  </div>

  <div id="shufazh-p"
       class="product-card"
       onclick="showPanel('pt-3', this)">
    <img src="https://irontehran.ir/wp-content/uploads/2024/07/Group-17910.png" alt="لوله شوفاژی">
    <h3>لوله شوفاژی</h3>
  </div>

  <div id="normal-p"
       class="product-card"
       onclick="showPanel('pt-4', this)">
    <img src="https://irontehran.ir/wp-content/uploads/2025/11/steel-pipe-folad-market.png" alt="لوله گازی معمولی">
    <h3>لوله گازی معمولی</h3>
  </div>

  <div id="gas-p"
       class="product-card"
       onclick="showPanel('pt-5', this)">
    <img src="https://irontehran.ir/wp-content/uploads/2024/07/Group-17910.png" alt="لوله گازی">
    <h3>لوله گازی</h3>
  </div>

  <div id="coming-soon"
       class="product-card"
       onclick="showPanel('pt-6', this)">
    <img src="https://irontehran.ir/wp-content/uploads/2025/11/black-pipe.png" alt="محصولات جدید">
    <h3>به زودی</h3>
  </div>

</div>


<!-- ————————————————————————
      PANEL 1 — لوله صنعتی
———————————————————————— -->
<div class="pt-panel active" id="pt-1">

  <div class="pt-header">
    <div class="pt-title">لوله صنعتی</div>
  </div>

  <!-- برندها -->
  <div class="brand-selector">
    <button onclick="showBrand('industrial-sepahan', this)" class="brand-btn active">سپاهان</button>
    <button onclick="showBrand('industrial-ahvaz', this)" class="brand-btn">اهواز</button>
    <button onclick="showBrand('industrial-saveh', this)" class="brand-btn">ساوه</button>
  </div>

  <div class="pt-image-wrap">

    <!-- ===================== برند سپاهان ===================== -->
    <div class="brand-table active" id="industrial-sepahan">
      <div class="table-responsive">
        <table>
          <thead>
            <tr class="table-header">
              <th class="col-product">
                <bdi>نام محصول</bdi><br>
                <bdi></bdi>
              </th>
              <th class="col-size">
                <bdi>سایز</bdi><br>
                <bdi>(اینچ)</bdi>
              </th>
              <th class="col-thick">
                <bdi>ضخامت</bdi><br>
                <bdi>(میلیمتر)</bdi>
              </th>
              <th class="col-weight">
                <bdi>وزن</bdi><br>
                <bdi>(kg)</bdi>
              </th>
              <th class="col-price">
                <bdi>قیمت</bdi><br>
                <bdi>(تومان)</bdi>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr><td class="col-product">لوله 2 صنعتی سپاهان</td><td class="col-size">1/2</td><td>سبک</td><td>6/7</td><td>4,053,500</td></tr>
            <tr><td class="col-product">لوله 2/5 صنعتی سپاهان</td><td class="col-size">3/4</td><td>سبک</td><td>8/8</td><td>5,142,500</td></tr>
            <tr><td class="col-product">لوله 3 صنعتی سپاهان</td><td class="col-size">1</td><td>سبک</td><td>13/3</td><td>8,192,800</td></tr>
            <tr><td class="col-product">لوله 4 صنعتی سپاهان</td><td class="col-size">1 1/4</td><td>سبک</td><td>16/8</td><td>10,348,800</td></tr>
            <tr><td class="col-product">لوله 5 صنعتی سپاهان</td><td class="col-size">1 1/2</td><td>سبک</td><td>19/1</td><td>11,765,600</td></tr>
            <tr><td class="col-product">لوله 6 صنعتی سپاهان</td><td class="col-size">2</td><td>سبک</td><td>-</td><td>-</td></tr>
            <tr><td class="col-product">لوله 7 صنعتی سپاهان</td><td class="col-size">2 1/2</td><td>سبک</td><td>31</td><td>17,254,600</td></tr>
            <tr><td class="col-product">لوله 8 صنعتی سپاهان</td><td class="col-size">3</td><td>سبک</td><td>36</td><td>20,037,600</td></tr>
            <tr><td class="col-product">لوله 10 صنعتی سپاهان</td><td class="col-size">4</td><td>سبک</td><td>46</td><td>25,603,600</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ===================== برند اهواز ===================== -->
    <div class="brand-table" id="industrial-ahvaz">
      <div class="table-responsive">
        <table>
          <thead>
            <tr class="table-header">
              <th class="col-product"><bdi>نام محصول</bdi></th>
              <th class="col-size"><bdi>سایز</bdi><br><bdi>(اینچ)</bdi></th>
              <th class="col-thick"><bdi>ضخامت</bdi><br><bdi>(میلیمتر)</bdi></th>
              <th class="col-weight"><bdi>وزن</bdi><br><bdi>(kg)</bdi></th>
              <th class="col-price"><bdi>قیمت</bdi><br><bdi>(تومان)</bdi></th>
            </tr>
          </thead>
          <tbody>
            <tr><td class="col-product">لوله 2 صنعتی اهواز</td><td class="col-size">1/2</td><td>سبک</td><td>6/7</td><td>0</td></tr>
            <tr><td class="col-product">لوله 2/5 صنعتی اهواز</td><td class="col-size">3/4</td><td>سبک</td><td>8/8</td><td>0</td></tr>
            <tr><td class="col-product">لوله 3 صنعتی اهواز</td><td class="col-size">1</td><td>سبک</td><td>13/3</td><td>0</td></tr>
            <tr><td class="col-product">لوله 4 صنعتی اهواز</td><td class="col-size">1 1/4</td><td>سبک</td><td>16/8</td><td>0</td></tr>
            <tr><td class="col-product">لوله 5 صنعتی اهواز</td><td class="col-size">1 1/2</td><td>سبک</td><td>19/1</td><td>0</td></tr>
            <tr><td class="col-product">لوله 6 صنعتی اهواز</td><td class="col-size">2</td><td>سبک</td><td>-</td><td>0</td></tr>
            <tr><td class="col-product">لوله 7 صنعتی اهواز</td><td class="col-size">2 1/2</td><td>سبک</td><td>31</td><td>0</td></tr>
            <tr><td class="col-product">لوله 8 صنعتی اهواز</td><td class="col-size">3</td><td>سبک</td><td>36</td><td>0</td></tr>
            <tr><td class="col-product">لوله 10 صنعتی اهواز</td><td class="col-size">4</td><td>سبک</td><td>46</td><td>0</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ===================== برند ساوه ===================== -->
    <div class="brand-table" id="industrial-saveh">
      <div class="table-responsive">
        <table>
          <thead>
            <tr class="table-header">
              <th class="col-product"><bdi>نام محصول</bdi></th>
              <th class="col-size"><bdi>سایز</bdi><br><bdi>(اینچ)</bdi></th>
              <th class="col-thick"><bdi>ضخامت</bdi><br><bdi>(میلیمتر)</bdi></th>
              <th class="col-weight"><bdi>وزن</بdi><br><bdi>(kg)</bdi></th>
              <th class="col-price"><bdi>قیمت</bdi><br><bdi>(تومان)</bdi></th>
            </tr>
          </thead>
          <tbody>
            <tr><td class="col-product">لوله 2 صنعتی ساوه</td><td class="col-size">1/2</td><td>سبک</td><td>6/7</td><td>0</td></tr>
            <tr><td class="col-product">لوله 2/5 صنعتی ساوه</td><td class="col-size">3/4</td><td>سبک</td><td>8/8</td><td>0</td></tr>
            <tr><td class="col-product">لوله 3 صنعتی ساوه</td><td class="col-size">1</td><td>سبک</td><td>13/3</td><td>0</td></tr>
            <tr><td class="col-product">لوله 4 صنعتی ساوه</td><td class="col-size">1 1/4</td><td>سبک</td><td>16/8</td><td>0</td></tr>
            <tr><td class="col-product">لوله 5 صنعتی ساوه</td><td class="col-size">1 1/2</td><td>سبک</td><td>19/1</td><td>0</td></tr>
            <tr><td class="col-product">لوله 6 صنعتی ساوه</td><td class="col-size">2</td><td>سبک</td><td>-</td><td>0</td></tr>
            <tr><td class="col-product">لوله 7 صنعتی ساوه</td><td class="col-size">2 1/2</td><td>سبک</td><td>31</td><td>0</td></tr>
            <tr><td class="col-product">لوله 8 صنعتی ساوه</td><td class="col-size">3</td><td>سبک</td><td>36</td><td>0</td></tr>
            <tr><td class="col-product">لوله 10 صنعتی ساوه</td><td class="col-size">4</td><td>سبک</td><td>46</td><td>0</td></tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>
</div>


<!-- ————————————————————————
      PANEL 2 — API (به‌زودی)
———————————————————————— -->
<div class="pt-panel" id="pt-2">
  <div class="pt-header">
    <div class="pt-title">لوله گازی API</div>
  </div>

  <div class="pt-image-wrap">
    <div style="
      background: #fff;
      padding: 30px;
      text-align: center;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      color: #444;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    ">
      اطلاعات این محصول به‌زودی اضافه می‌شود...
    </div>
  </div>
</div>


<!-- ————————————————————————
      PANEL 3 — شوفاژی (به‌زودی)
———————————————————————— -->
<div class="pt-panel" id="pt-3">
  <div class="pt-header">
    <div class="pt-title">لوله شوفاژی</div>
  </div>

  <div class="pt-image-wrap">
    <div style="
      background: #fff;
      padding: 30px;
      text-align: center;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      color: #444;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    ">
      اطلاعات این محصول به‌زودی اضافه می‌شود...
    </div>
  </div>
</div>


<!-- ————————————————————————
      PANEL 4 — گازی معمولی (به‌زودی)
———————————————————————— -->
<div class="pt-panel" id="pt-4">
  <div class="pt-header">
    <div class="pt-title">لوله گازی معمولی</div>
  </div>

  <div class="pt-image-wrap">
    <div style="
      background: #fff;
      padding: 30px;
      text-align: center;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      color: #444;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    ">
      اطلاعات این محصول به‌زودی اضافه می‌شود...
    </div>
  </div>
</div>


<!-- ————————————————————————
      PANEL 5 — لوله گازی (به‌زودی)
———————————————————————— -->
<div class="pt-panel" id="pt-5">
  <div class="pt-header">
    <div class="pt-title">لوله گازی</div>
  </div>

  <div class="pt-image-wrap">
    <div style="
      background: #fff;
      padding: 30px;
      text-align: center;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      color: #444;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    ">
      اطلاعات این محصول به‌زودی اضافه می‌شود...
    </div>
  </div>
</div>


<!-- ————————————————————————
      PANEL 6 — به‌زودی کلی
———————————————————————— -->
<div class="pt-panel" id="pt-6">

  <div class="pt-header">
    <div class="pt-title">به زودی</div>
  </div>

  <div class="pt-image-wrap">
    <div style="
      background: #fff;
      padding: 30px;
      text-align: center;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      color: #444;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    ">
      محصولات جدید به‌زودی اضافه می‌شوند...
    </div>
  </div>

</div>

</div>
